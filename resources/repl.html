<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>LOVEJS SHell</title>
    <script type='text/javascript'>
      // var LOVE2D_GAME=null; // global
    </script>
  </head>
  <body>

    <iframe style="width: 100%; height: 300px; padding: 0px; margin: 0px"  allowtransparency="true" webkitallowfullscreen="true" mozallowfullscreen="true" msallowfullscreen="true" allow="autoplay; fullscreen *; geolocation; microphone; camera; midi; monetization; xr-spatial-tracking; gamepad; gyroscope; accelerometer; xr; cross-origin-isolated; web-share" src="/shell.html" scrolling="no" allowfullscreen="true" frameborder="0" id="game_drop"></iframe>
    
    <input style="width: 100%;" type="text" id="input" rows="8"></input>
    <script type='text/javascript'>
      // repl stuff
      {
          let input = document.getElementById("input");
          keydown = function  (e){
              console.log(e);
              var key = e.key || e.which;
              console.log(key);
              console.log(input.value);
              if (key == "Enter")
              {
                  if (input.value.length > 0){
                      let love_send_event = document.getElementById('game_drop').contentWindow.love_send_event;
                      love_send_event("eval", input.value, 0);
                      input.value = "";
                      return false;
                  }
              }
          }
          input.addEventListener("keydown", keydown)
      }
    </script>
  </body>
</html>
